{"version":3,"sources":["turbopack:///[project]/app/ai/builder/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\n\nexport default function Page() {\n  const [status, setStatus] = useState(\"\");\n\n  async function handleSubmit(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n    const formData = new FormData(e.currentTarget);\n    const goal = String(formData.get(\"goal\") || \"\").trim();\n    const resources = String(formData.get(\"resources\") || \"\")\n      .split(\",\")\n      .map(s => s.trim())\n      .filter(Boolean);\n    \n    setStatus(\"Creating plan...\");\n    try {\n      const res = await fetch(\"/api/ai/orchestrate\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({ goal, resources })\n      });\n      const json = await res.json();\n      if (res.ok) {\n        setStatus(\"Plan created: \" + json.meta.id);\n        (e.target as HTMLFormElement).reset();\n      } else {\n        setStatus(\"Error creating plan\");\n      }\n    } catch (err) {\n      setStatus(\"Error: \" + String(err));\n    }\n  }\n\n  return (\n    <main className=\"mx-auto max-w-2xl px-4 py-10 prose\">\n      <h1>AI Orchestrator</h1>\n      <p>\n        Describe a goal. Optionally list resources, e.g.{\" \"}\n        <code>Stripe, Notion, Webhooks</code>.\n      </p>\n      <form onSubmit={handleSubmit}>\n        <label>Goal</label>\n        <textarea\n          name=\"goal\"\n          required\n          className=\"w-full border rounded p-2 h-28\"\n          placeholder=\"Increase trials to 5 this week, alert on failed webhooks.\"\n        />\n        <label className=\"mt-3 block\">Resources (comma-separated)</label>\n        <input\n          name=\"resources\"\n          className=\"w-full border rounded p-2\"\n          placeholder=\"Stripe, Notion\"\n        />\n        <button className=\"mt-4 rounded bg-black text-white px-4 py-2\">\n          Create Plan\n        </button>\n      </form>\n      {status && (\n        <p className=\"text-sm mt-4 p-2 rounded bg-blue-50 dark:bg-blue-900\">\n          {status}\n        </p>\n      )}\n      <p className=\"text-xs text-gray-500\">\n        Saves to <code>logs/orchestrations.ndjson</code>.\n      </p>\n    </main>\n  );\n}\n"],"names":[],"mappings":"wDACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAErC,eAAe,EAAa,CAAmC,EAC7D,EAAE,cAAc,GAChB,IAAM,EAAW,IAAI,SAAS,EAAE,aAAa,EACvC,EAAO,OAAO,EAAS,GAAG,CAAC,SAAW,IAAI,IAAI,GAC9C,EAAY,OAAO,EAAS,GAAG,CAAC,cAAgB,IACnD,KAAK,CAAC,KACN,GAAG,CAAC,GAAK,EAAE,IAAI,IACf,MAAM,CAAC,SAEV,EAAU,oBACV,GAAI,CACF,IAAM,EAAM,MAAM,MAAM,sBAAuB,CAC7C,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,MAAE,YAAM,CAAU,EACzC,GACM,EAAO,MAAM,EAAI,IAAI,GACvB,EAAI,EAAE,EAAE,AACV,EAAU,iBAAmB,EAAK,IAAI,CAAC,EAAE,EACxC,EAAE,MAAM,CAAqB,KAAK,IAEnC,EAAU,sBAEd,CAAE,MAAO,EAAK,CACZ,EAAU,UAAY,OAAO,GAC/B,CACF,CAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,+CACd,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,oBACJ,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WAAE,mDACgD,IACjD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,6BAA+B,OAEvC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,YACd,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UAAM,SACP,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,KAAK,OACL,QAAQ,CAAA,CAAA,EACR,UAAU,iCACV,YAAY,8DAEd,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,sBAAa,gCAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,YACL,UAAU,4BACV,YAAY,mBAEd,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,sDAA6C,mBAIhE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gEACV,IAGL,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kCAAwB,YAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,+BAAiC,SAIxD"}