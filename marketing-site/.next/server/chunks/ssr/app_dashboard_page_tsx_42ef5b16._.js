module.exports=[20731,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d({status:a}){let c={idle:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",running:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",ok:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",error:"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400"};return(0,b.jsx)("span",{className:`inline-flex items-center rounded px-2 py-0.5 text-xs font-medium ${c[a]||c.idle}`,children:a})}function e(){let[a,e]=(0,c.useState)(null),[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(),[j,k]=(0,c.useState)({}),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)("automations"),[p,q]=(0,c.useState)({successRate:0,errorRate:0,totalEvents:0}),r=async()=>{try{let a=await fetch("/api/auth/me"),b=await a.json();e(b);let c=await fetch("/api/telemetry/workflows"),d=await c.json();g(d)}catch(a){i("Unable to load dashboard")}};(0,c.useEffect)(()=>{r()},[]),(0,c.useEffect)(()=>{if(l){let a=setTimeout(()=>m(null),5e3);return()=>clearTimeout(a)}},[l]);let s=async a=>{k(b=>({...b,[a]:!0}));try{let b=await fetch(`/api/workflows/${a}/start`,{method:"POST"}),c=await b.json();c.ok?(m({message:"Workflow started successfully",type:"success"}),await r()):m({message:c.error||"Failed to start workflow",type:"error"})}catch(a){m({message:"Failed to start workflow",type:"error"})}finally{k(b=>({...b,[a]:!1}))}};return a&&null==a.email?(0,b.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 text-white flex items-center justify-center px-4 py-12",children:(0,b.jsxs)("div",{className:"text-center max-w-2xl",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Dashboard"}),(0,b.jsx)("p",{className:"text-gray-400 mb-6",children:"Please log in to view your workflows."}),(0,b.jsx)("a",{href:"/login",className:"inline-block bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-6 py-3 rounded-lg font-semibold transition-all duration-200",children:"Log In"})]})}):(0,b.jsxs)("main",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 text-white",children:[(0,b.jsx)("header",{className:"bg-gray-800/50 backdrop-blur-sm border-b border-gray-700 sticky top-0 z-10",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"ðŸ¤– EchoPilotAI"}),(0,b.jsx)("span",{className:"text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded",children:"Live"})]}),(0,b.jsx)("button",{onClick:r,className:"px-4 py-2 bg-gray-700/50 hover:bg-gray-700 rounded-lg transition-colors text-sm",children:"ðŸ”„ Refresh"})]})}),(0,b.jsx)("div",{className:"bg-gray-800/30 border-b border-gray-700",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsx)("nav",{className:"flex gap-1 overflow-x-auto",children:[{id:"automations",icon:"âš™ï¸",label:"Automations"},{id:"payments",icon:"ðŸ’°",label:"Payments"},{id:"ops",icon:"ðŸ”§",label:"Operations"},{id:"audit",icon:"ðŸ“Š",label:"Audit & Logs"},{id:"settings",icon:"âš™ï¸",label:"Settings"}].map(a=>(0,b.jsxs)("button",{onClick:()=>o(a.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${n===a.id?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[(0,b.jsx)("span",{children:a.icon}),(0,b.jsx)("span",{children:a.label})]},a.id))})})}),l&&(0,b.jsx)("div",{className:`fixed top-20 right-4 p-4 rounded-lg shadow-lg z-50 ${"success"===l.type?"bg-emerald-500/20 border border-emerald-500/30 text-emerald-400":"bg-rose-500/20 border border-rose-500/30 text-rose-400"}`,children:(0,b.jsx)("p",{className:"text-sm font-medium",children:l.message})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["automations"===n&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Automation Workflows"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Manage and monitor your automated workflows"})]}),h&&(0,b.jsx)("div",{className:"p-4 bg-rose-500/10 border border-rose-500/30 rounded-lg",children:(0,b.jsx)("p",{className:"text-rose-400 text-sm",children:h})}),f?0===f.length?(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsxs)("div",{className:"bg-gray-800/50 border-2 border-dashed border-gray-700 rounded-xl p-8 max-w-md mx-auto",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“‹"}),(0,b.jsx)("h3",{className:"text-xl font-medium mb-2",children:"No workflows yet"}),(0,b.jsx)("p",{className:"text-gray-400 mb-4",children:"Get started by creating your first automation workflow"}),(0,b.jsx)("a",{href:"/workflow",className:"inline-block bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-6 py-3 rounded-lg font-semibold transition-all duration-200",children:"Create Workflow"})]})}):(0,b.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:f.map(a=>(0,b.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-5 hover:border-gray-600 transition-colors",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-100",children:a.name}),(0,b.jsx)(d,{status:a.status})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-gray-400",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"P50 latency:"}),(0,b.jsxs)("span",{className:"font-medium text-gray-300",children:[a.latency_ms_p50," ms"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"24h errors:"}),(0,b.jsx)("span",{className:`font-medium ${a.errors_24h>0?"text-rose-400":"text-emerald-400"}`,children:a.errors_24h})]})]})]}),(0,b.jsxs)("div",{className:"pt-3 mt-4 border-t border-gray-700 flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>s(a.id),disabled:j[a.id]||"running"===a.status,className:"inline-flex items-center justify-center gap-2 rounded-lg px-3 py-2 text-sm bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-all flex-1",children:j[a.id]?"Starting...":"â–¶ Start"}),(0,b.jsx)("button",{className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors text-sm",children:"ðŸ“‹ Logs"})]})]},a.id))}):(0,b.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,b.jsx)("span",{className:"ml-3 text-gray-400",children:"Loading workflows..."})]})]}),"payments"===n&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"ðŸ’° Payment Center"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Monitor payment events and transactions"})]})}),(0,b.jsxs)("div",{className:"grid gap-6 sm:grid-cols-3",children:[(0,b.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"text-sm text-gray-400 mb-2",children:"Success Rate"}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-emerald-400",children:[p.successRate,"%"]})]}),(0,b.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"text-sm text-gray-400 mb-2",children:"Error Rate"}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-rose-400",children:[p.errorRate,"%"]})]}),(0,b.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"text-sm text-gray-400 mb-2",children:"Total Events"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-blue-400",children:p.totalEvents})]})]})]}),"ops"===n&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"ðŸ”§ Operations"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Self-heal, metrics, and system operations"})]}),(0,b.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-12 text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ› ï¸"}),(0,b.jsx)("h3",{className:"text-xl font-medium mb-2",children:"Operations Tools"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Self-heal, metrics, and system operations coming soon"})]})]}),"audit"===n&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"ðŸ“Š Audit & Logs"}),(0,b.jsx)("p",{className:"text-gray-400",children:"View system logs, events, and audit history"})]}),(0,b.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-12 text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“‹"}),(0,b.jsx)("h3",{className:"text-xl font-medium mb-2",children:"Audit Trail"}),(0,b.jsx)("p",{className:"text-gray-400",children:"View system logs, events, and audit history coming soon"})]})]}),"settings"===n&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"âš™ï¸ Settings"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Manage your dashboard preferences"})]}),(0,b.jsx)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6 max-w-2xl",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Theme"}),(0,b.jsxs)("select",{className:"w-full px-4 py-2 bg-gray-900/50 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 transition-colors",children:[(0,b.jsx)("option",{value:"dark",children:"Dark"}),(0,b.jsx)("option",{value:"light",children:"Light"}),(0,b.jsx)("option",{value:"auto",children:"Auto (System)"})]})]}),(0,b.jsx)("div",{children:(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm",children:"Enable toast notifications"})]})}),(0,b.jsx)("div",{className:"pt-4 border-t border-gray-700",children:(0,b.jsx)("button",{className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white rounded-lg font-semibold transition-all duration-200",children:"Save Settings"})})]})})]})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=app_dashboard_page_tsx_42ef5b16._.js.map