{"version":3,"sources":["turbopack:///[project]/app/login/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport Link from \"next/link\";\n\nexport default function LoginPage() {\n  const [error, setError] = useState<string | undefined>();\n  const [success, setSuccess] = useState<string | undefined>();\n  const [loading, setLoading] = useState(false);\n\n  async function onSubmit(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n    setError(undefined);\n    setSuccess(undefined);\n    setLoading(true);\n    const fd = new FormData(e.currentTarget);\n    const email = String(fd.get(\"email\") || \"\").trim();\n    const password = String(fd.get(\"password\") || \"\");\n    try {\n      const r = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({ email, password }),\n      });\n      if (r.ok) {\n        setSuccess(\"Login successful! Redirecting...\");\n        setTimeout(() => { location.href = \"/dashboard\"; }, 1000);\n        return;\n      }\n      const j = await r.json().catch(() => ({ message: \"Login failed\" }));\n      setError(j.message || \"Login failed\");\n    } catch (err) {\n      setError(\"Connection error. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function sendMagicLink() {\n    const emailInput = document.getElementById(\"email\") as HTMLInputElement;\n    const email = emailInput?.value?.trim();\n    if (!email) { setError(\"Please enter your email first\"); return; }\n    setLoading(true); setError(undefined);\n    try {\n      const r = await fetch(\"/api/auth/magic-link\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({ email }),\n      });\n      if (r.ok) { setSuccess(\"Magic link sent! Check your email.\"); } \n      else { const j = await r.json(); setError(j.message || \"Failed to send magic link\"); }\n    } catch (err) {\n      setError(\"Connection error. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <main className=\"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 text-white flex items-center justify-center px-4 py-12\">\n      <div className=\"max-w-md w-full\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent\">ðŸ¤– EchoPilotAI</h1>\n          <p className=\"text-gray-400\">Sign in to your account</p>\n        </div>\n        <div className=\"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-2xl p-8 shadow-xl\">\n          <form onSubmit={onSubmit} className=\"space-y-6\">\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-300 mb-2\">Email Address</label>\n              <input type=\"email\" id=\"email\" name=\"email\" required className=\"w-full px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 transition-colors text-white placeholder-gray-500\" placeholder=\"you@example.com\" />\n            </div>\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-300 mb-2\">Password or Access Code</label>\n              <input type=\"password\" id=\"password\" name=\"password\" required minLength={8} className=\"w-full px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 transition-colors text-white placeholder-gray-500\" placeholder=\"Enter password or code\" />\n            </div>\n            {error && (<div className=\"p-4 bg-red-500/10 border border-red-500/30 rounded-lg\"><p className=\"text-red-400 text-sm\">{error}</p></div>)}\n            {success && (<div className=\"p-4 bg-green-500/10 border border-green-500/30 rounded-lg\"><p className=\"text-green-400 text-sm\">{success}</p></div>)}\n            <button type=\"submit\" disabled={loading} className=\"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-6 py-3 rounded-lg font-semibold transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\">{loading ? \"Signing in...\" : \"Sign In\"}</button>\n          </form>\n          <div className=\"mt-6 text-center\">\n            <button onClick={sendMagicLink} disabled={loading} className=\"text-sm text-gray-400 hover:text-gray-300 transition-colors disabled:opacity-50\">Send me a magic link instead</button>\n          </div>\n        </div>\n        <div className=\"mt-6 text-center text-sm text-gray-400\">\n          <p>Don't have an account? <Link href=\"/signup\" className=\"text-blue-400 hover:text-blue-300 transition-colors\">Create account</Link></p>\n          <p className=\"mt-2\"><Link href=\"/pricing\" className=\"text-gray-500 hover:text-gray-400 transition-colors\">View Pricing</Link></p>\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"wDACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IAC5B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IAChC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEvC,eAAe,EAAS,CAAmC,EACzD,EAAE,cAAc,GAChB,OAAS,GACT,OAAW,GACX,GAAW,GACX,IAAM,EAAK,IAAI,SAAS,EAAE,aAAa,EACjC,EAAQ,OAAO,EAAG,GAAG,CAAC,UAAY,IAAI,IAAI,GAC1C,EAAW,OAAO,EAAG,GAAG,CAAC,aAAe,IAC9C,GAAI,CACF,IAAM,EAAI,MAAM,MAAM,kBAAmB,CACvC,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,OAAE,WAAO,CAAS,EACzC,GACA,GAAI,EAAE,EAAE,CAAE,CACR,EAAW,oCACX,WAAW,KAAQ,SAAS,IAAI,CAAG,YAAc,EAAG,KACpD,MACF,CACA,IAAM,EAAI,MAAM,EAAE,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAE,QAAS,eAAe,CAAC,EACjE,EAAS,EAAE,OAAO,EAAI,eACxB,CAAE,MAAO,EAAK,CACZ,EAAS,sCACX,QAAU,CACR,GAAW,EACb,CACF,CAEA,eAAe,IACb,IAAM,EAAa,SAAS,cAAc,CAAC,SACrC,EAAQ,GAAY,OAAO,OACjC,GAAI,CAAC,EAAO,YAAE,EAAS,iCACvB,GAAW,GAAO,OAAS,GAC3B,GAAI,CACF,IAAM,EAAI,MAAM,MAAM,uBAAwB,CAC5C,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,OAAE,CAAM,EAC/B,GACA,GAAI,EAAE,EAAE,CAAI,CAAF,CAAa,0CAClB,CAAE,IAAM,EAAI,MAAM,EAAE,IAAI,GAAI,EAAS,EAAE,OAAO,EAAI,4BAA8B,CACvF,CAAE,MAAO,EAAK,CACZ,EAAS,sCACX,QAAU,CACR,GAAW,EACb,CACF,CAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uIACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8GAAqG,mBACnH,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,+BAE/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6FACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAU,UAAU,sBAClC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,QAAQ,UAAU,wDAA+C,kBAChF,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,KAAK,QAAQ,GAAG,QAAQ,KAAK,QAAQ,QAAQ,CAAA,CAAA,EAAC,UAAU,+JAA+J,YAAY,uBAE5O,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,WAAW,UAAU,wDAA+C,4BACnF,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,KAAK,WAAW,GAAG,WAAW,KAAK,WAAW,QAAQ,CAAA,CAAA,EAAC,UAAW,EAAG,UAAU,+JAA+J,YAAY,8BAElQ,GAAU,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iEAAwD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gCAAwB,MACtH,GAAY,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEAA4D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAA0B,MAC/H,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,SAAS,SAAU,EAAS,UAAU,mRAA2Q,EAAU,gBAAkB,eAE5V,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,QAAS,EAAe,SAAU,EAAS,UAAU,2FAAkF,sCAGnJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WAAE,0BAAuB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,UAAU,UAAU,+DAAsD,sBAC/G,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gBAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,WAAW,UAAU,+DAAsD,0BAKpH"}