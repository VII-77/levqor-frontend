module.exports=[18469,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let[a,d]=(0,c.useState)(null),[e,f]=(0,c.useState)([]);return(0,c.useEffect)(()=>{fetch("/api/ops/state").then(a=>a.json()).then(d).catch(()=>{});let a=new EventSource("/api/ops/stream");return a.onmessage=a=>{let b=JSON.parse(a.data);f(a=>[b,...a].slice(0,120))},()=>a.close()},[]),(0,b.jsxs)("main",{className:"mx-auto max-w-5xl px-4 py-10",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Operations Dashboard"}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-3 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"rounded border p-4",children:[(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Health"}),(0,b.jsx)("div",{className:"text-xl",children:a?.health??"—"})]}),(0,b.jsxs)("div",{className:"rounded border p-4",children:[(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Tickets"}),(0,b.jsx)("div",{className:"text-xl",children:a?.tickets??0})]}),(0,b.jsxs)("div",{className:"rounded border p-4",children:[(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"p95 Latency (ms)"}),(0,b.jsx)("div",{className:"text-xl",children:a?.latency_p95_ms??"—"})]})]}),(0,b.jsx)("h2",{className:"font-medium mb-2",children:"Live metrics"}),(0,b.jsxs)("div",{className:"rounded border p-4 text-sm h-64 overflow-auto",children:[e.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-4 text-xs",children:[(0,b.jsx)("div",{children:new Date(1e3*a.ts).toLocaleTimeString()}),(0,b.jsxs)("div",{children:["cpu ",a.cpu]}),(0,b.jsxs)("div",{children:["p95 ",a.latency_p95_ms,"ms"]})]},c)),0===e.length&&(0,b.jsx)("div",{className:"text-gray-500",children:"Waiting for stream…"})]})]})}a.s(["default",()=>d])}];

//# sourceMappingURL=app_ops_page_tsx_075ef4fb._.js.map