(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,62142,e=>{"use strict";var s=e.i(43476),t=e.i(71645);function a(){let[e,a]=(0,t.useState)(null),[l,i]=(0,t.useState)([]);return(0,t.useEffect)(()=>{fetch("/api/ops/state").then(e=>e.json()).then(a).catch(()=>{});let e=new EventSource("/api/ops/stream");return e.onmessage=e=>{let s=JSON.parse(e.data);i(e=>[s,...e].slice(0,120))},()=>e.close()},[]),(0,s.jsxs)("main",{className:"mx-auto max-w-5xl px-4 py-10",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Operations Dashboard"}),(0,s.jsxs)("div",{className:"grid sm:grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"rounded border p-4",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Health"}),(0,s.jsx)("div",{className:"text-xl",children:e?.health??"—"})]}),(0,s.jsxs)("div",{className:"rounded border p-4",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Tickets"}),(0,s.jsx)("div",{className:"text-xl",children:e?.tickets??0})]}),(0,s.jsxs)("div",{className:"rounded border p-4",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"p95 Latency (ms)"}),(0,s.jsx)("div",{className:"text-xl",children:e?.latency_p95_ms??"—"})]})]}),(0,s.jsx)("h2",{className:"font-medium mb-2",children:"Live metrics"}),(0,s.jsxs)("div",{className:"rounded border p-4 text-sm h-64 overflow-auto",children:[l.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-4 text-xs",children:[(0,s.jsx)("div",{children:new Date(1e3*e.ts).toLocaleTimeString()}),(0,s.jsxs)("div",{children:["cpu ",e.cpu]}),(0,s.jsxs)("div",{children:["p95 ",e.latency_p95_ms,"ms"]})]},t)),0===l.length&&(0,s.jsx)("div",{className:"text-gray-500",children:"Waiting for stream…"})]})]})}e.s(["default",()=>a])}]);