(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78928,e=>{"use strict";var s=e.i(43476),t=e.i(71645);function r({status:e}){let t={idle:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",running:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",ok:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",error:"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400"};return(0,s.jsx)("span",{className:`inline-flex items-center rounded px-2 py-0.5 text-xs font-medium ${t[e]||t.idle}`,children:e})}function a(){let[e,a]=(0,t.useState)(null),[l,i]=(0,t.useState)(null),[d,o]=(0,t.useState)(),[n,c]=(0,t.useState)({}),[x,m]=(0,t.useState)(null),[b,h]=(0,t.useState)("automations"),[g,u]=(0,t.useState)({successRate:0,errorRate:0,totalEvents:0}),p=async()=>{try{let e=await fetch("/api/auth/me"),s=await e.json();a(s);let t=await fetch("/api/telemetry/workflows"),r=await t.json();i(r)}catch(e){o("Unable to load dashboard")}};(0,t.useEffect)(()=>{p()},[]),(0,t.useEffect)(()=>{if(x){let e=setTimeout(()=>m(null),5e3);return()=>clearTimeout(e)}},[x]);let y=async e=>{c(s=>({...s,[e]:!0}));try{let s=await fetch(`/api/workflows/${e}/start`,{method:"POST"}),t=await s.json();t.ok?(m({message:"Workflow started successfully",type:"success"}),await p()):m({message:t.error||"Failed to start workflow",type:"error"})}catch(e){m({message:"Failed to start workflow",type:"error"})}finally{c(s=>({...s,[e]:!1}))}};return e&&null==e.email?(0,s.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 text-white flex items-center justify-center px-4 py-12",children:(0,s.jsxs)("div",{className:"text-center max-w-2xl",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Dashboard"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:"Please log in to view your workflows."}),(0,s.jsx)("a",{href:"/login",className:"inline-block bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-6 py-3 rounded-lg font-semibold transition-all duration-200",children:"Log In"})]})}):(0,s.jsxs)("main",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 text-white",children:[(0,s.jsx)("header",{className:"bg-gray-800/50 backdrop-blur-sm border-b border-gray-700 sticky top-0 z-10",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"ðŸ¤– EchoPilotAI"}),(0,s.jsx)("span",{className:"text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded",children:"Live"})]}),(0,s.jsx)("button",{onClick:p,className:"px-4 py-2 bg-gray-700/50 hover:bg-gray-700 rounded-lg transition-colors text-sm",children:"ðŸ”„ Refresh"})]})}),(0,s.jsx)("div",{className:"bg-gray-800/30 border-b border-gray-700",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsx)("nav",{className:"flex gap-1 overflow-x-auto",children:[{id:"automations",icon:"âš™ï¸",label:"Automations"},{id:"payments",icon:"ðŸ’°",label:"Payments"},{id:"ops",icon:"ðŸ”§",label:"Operations"},{id:"audit",icon:"ðŸ“Š",label:"Audit & Logs"},{id:"settings",icon:"âš™ï¸",label:"Settings"}].map(e=>(0,s.jsxs)("button",{onClick:()=>h(e.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${b===e.id?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[(0,s.jsx)("span",{children:e.icon}),(0,s.jsx)("span",{children:e.label})]},e.id))})})}),x&&(0,s.jsx)("div",{className:`fixed top-20 right-4 p-4 rounded-lg shadow-lg z-50 ${"success"===x.type?"bg-emerald-500/20 border border-emerald-500/30 text-emerald-400":"bg-rose-500/20 border border-rose-500/30 text-rose-400"}`,children:(0,s.jsx)("p",{className:"text-sm font-medium",children:x.message})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["automations"===b&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Automation Workflows"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Manage and monitor your automated workflows"})]}),d&&(0,s.jsx)("div",{className:"p-4 bg-rose-500/10 border border-rose-500/30 rounded-lg",children:(0,s.jsx)("p",{className:"text-rose-400 text-sm",children:d})}),l?0===l.length?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsxs)("div",{className:"bg-gray-800/50 border-2 border-dashed border-gray-700 rounded-xl p-8 max-w-md mx-auto",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“‹"}),(0,s.jsx)("h3",{className:"text-xl font-medium mb-2",children:"No workflows yet"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Get started by creating your first automation workflow"}),(0,s.jsx)("a",{href:"/workflow",className:"inline-block bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-6 py-3 rounded-lg font-semibold transition-all duration-200",children:"Create Workflow"})]})}):(0,s.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:l.map(e=>(0,s.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-5 hover:border-gray-600 transition-colors",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-100",children:e.name}),(0,s.jsx)(r,{status:e.status})]}),(0,s.jsxs)("div",{className:"space-y-2 text-sm text-gray-400",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"P50 latency:"}),(0,s.jsxs)("span",{className:"font-medium text-gray-300",children:[e.latency_ms_p50," ms"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"24h errors:"}),(0,s.jsx)("span",{className:`font-medium ${e.errors_24h>0?"text-rose-400":"text-emerald-400"}`,children:e.errors_24h})]})]})]}),(0,s.jsxs)("div",{className:"pt-3 mt-4 border-t border-gray-700 flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>y(e.id),disabled:n[e.id]||"running"===e.status,className:"inline-flex items-center justify-center gap-2 rounded-lg px-3 py-2 text-sm bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-all flex-1",children:n[e.id]?"Starting...":"â–¶ Start"}),(0,s.jsx)("button",{className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors text-sm",children:"ðŸ“‹ Logs"})]})]},e.id))}):(0,s.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,s.jsx)("span",{className:"ml-3 text-gray-400",children:"Loading workflows..."})]})]}),"payments"===b&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"ðŸ’° Payment Center"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Monitor payment events and transactions"})]})}),(0,s.jsxs)("div",{className:"grid gap-6 sm:grid-cols-3",children:[(0,s.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[(0,s.jsx)("div",{className:"text-sm text-gray-400 mb-2",children:"Success Rate"}),(0,s.jsxs)("div",{className:"text-3xl font-bold text-emerald-400",children:[g.successRate,"%"]})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[(0,s.jsx)("div",{className:"text-sm text-gray-400 mb-2",children:"Error Rate"}),(0,s.jsxs)("div",{className:"text-3xl font-bold text-rose-400",children:[g.errorRate,"%"]})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[(0,s.jsx)("div",{className:"text-sm text-gray-400 mb-2",children:"Total Events"}),(0,s.jsx)("div",{className:"text-3xl font-bold text-blue-400",children:g.totalEvents})]})]})]}),"ops"===b&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"ðŸ”§ Operations"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Self-heal, metrics, and system operations"})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-12 text-center",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ› ï¸"}),(0,s.jsx)("h3",{className:"text-xl font-medium mb-2",children:"Operations Tools"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Self-heal, metrics, and system operations coming soon"})]})]}),"audit"===b&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"ðŸ“Š Audit & Logs"}),(0,s.jsx)("p",{className:"text-gray-400",children:"View system logs, events, and audit history"})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-12 text-center",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“‹"}),(0,s.jsx)("h3",{className:"text-xl font-medium mb-2",children:"Audit Trail"}),(0,s.jsx)("p",{className:"text-gray-400",children:"View system logs, events, and audit history coming soon"})]})]}),"settings"===b&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"âš™ï¸ Settings"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Manage your dashboard preferences"})]}),(0,s.jsx)("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6 max-w-2xl",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Theme"}),(0,s.jsxs)("select",{className:"w-full px-4 py-2 bg-gray-900/50 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 transition-colors",children:[(0,s.jsx)("option",{value:"dark",children:"Dark"}),(0,s.jsx)("option",{value:"light",children:"Light"}),(0,s.jsx)("option",{value:"auto",children:"Auto (System)"})]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm",children:"Enable toast notifications"})]})}),(0,s.jsx)("div",{className:"pt-4 border-t border-gray-700",children:(0,s.jsx)("button",{className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white rounded-lg font-semibold transition-all duration-200",children:"Save Settings"})})]})})]})]})]})}e.s(["default",()=>a])}]);